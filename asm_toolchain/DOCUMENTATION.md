# ASM Structures

## Operand Types

| OperandType  | Explanation                              | Example               | Machine code (Big Endian)                  |
|---------------|-------------------------------------------|------------------------|--------------------------------------------|
| **None**      | Інструкція без аргументів                | `nop`, `ret`, `hlt`   | Тільки 1 байт опкоду                       |
| **Reg**       | 8-бітний регістр                        | `add ac`, `mov xh, ac`| Опкод визначається регістрами              |
| **Imm8**      | 8-бітне безпосереднє значення            | `ldi ac, 0x12`        | 1 байт значення після опкоду              |
| **Imm16**     | 16-бітне безпосереднє значення (адреса)  | `jmp 0x1234`          | 2 байти у Big Endian (`12 34`)            |
| **Label**     | Мітка, що посилається на адресу коду/даних | `jmp main`           | Як `Imm16`, але через релокацію           |
| **MemAbs16**  | Абсолютна адресація через пам'ять        | `ld ac, [0x1234]`     | 2 байти адреси у Big Endian (`12 34`)     |
| **MemAtReg16**| Непряма адресація через 16-бітний регістр| `ld ac, [X]`, `st [Y], ac` | Опкод кодує вибір пари (X/Y/Z/SP/ADR) |
| **SP**        | Використання стекового покажчика         | `push ac`, `pop ac`   | Спеціальний режим доступу                 |
| **PC**        | Лічильник команд                         | `jmp pc` (якщо підтримується) | Спеціальний режим                         |

> **Endianness:** усі 16-бітні значення у машинному коді зберігаються у **Big Endian** — спочатку **старший**, потім **молодший** байт (`HI → LO`).

---

## Registers

| Name    | Type   | Description                                                                              |
|---------|--------|------------------------------------------------------------------------------------------|
| **AC**  | 8-bit  | Основний акумулятор (ALU), молодший байт пари **X**                                      |
| **XH**  | 8-bit  | Старший байт регістра **X**                                                              |
| **YH**  | 8-bit  | Старший байт регістра **Y**                                                              |
| **YL**  | 8-bit  | Молодший байт регістра **Y**                                                             |
| **ZH**  | 8-bit  | Старший байт регістра **Z**                                                              |
| **ZL**  | 8-bit  | Молодший байт регістра **Z**                                                             |
| **FR**  | 3-bit  | Регістр прапорів: **Sign (S)**,**NotCarry (C)**, **Zero (Z)** NotCarry – інвертований    |
| **IR**  | 8-bit  | Instruction Register (зберігає поточний опкод)                                           |
| **X**   | 16-bit | Об'єднання **(XH:AC)** — використовується як 16-бітний адресний або арифметичний регістр |
| **Y**   | 16-bit | Об'єднання **(YH:YL)** — 16-бітний покажчик                                              |
| **Z**   | 16-bit | Об'єднання **(ZH:ZL)** — 16-бітний покажчик                                              |
| **SP**  | 16-bit | Stack Pointer — лічить **вгору/вниз** залежно від операції                               |
| **PC**  | 16-bit | Program Counter — завжди рахує **вгору**                                                 |
| **ADR** | 16-bit | Address Register — завжди також пише адресу в пам’ять                                    |
| **ARG** | 16-bit | Argument Register — тимчасовий регістр для збереження адрес або аргументів               |

---